<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              gold: '#D4AF37',
              dark: '#0B0F1A',
              card: '#121826'
            }
          }
        }
      }
    </script>
</head>

<body class="bg-dark text-white min-h-screen">

{% include "header.html" %}

<div class="container-desktop mx-auto px-4 py-10">

    <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
    <h1 class="text-2xl font-bold mb-8">
        ğŸ§¾ Ø¥ÙƒÙ…Ø§Ù„ / ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    </h1>

    <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
    {% if messages %}
        {% for message in messages %}
            <div class="mb-4 p-4 rounded-xl
                {% if message.tags == 'error' %}
                    bg-red-600/20 text-red-400
                {% else %}
                    bg-green-600/20 text-green-400
                {% endif %}
            ">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
    <form method="post" enctype="multipart/form-data"
          class="bg-card border border-white/10 rounded-2xl p-6 space-y-6 max-w-xl">

        {% csrf_token %}

        <!-- Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ -->
        <div>
            <label class="block mb-2 text-sm">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
            <input
                type="text"
                name="full_name"
                value="{{ profile.full_name|default:'' }}"
                required
                class="w-full px-4 py-3 rounded-xl bg-dark border border-white/10 focus:outline-none focus:border-gold"
            >
        </div>

        <!-- Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ -->
        <div>
            <label class="block mb-2 text-sm">Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ</label>
            <input
                type="text"
                name="national_id"
                value="{{ profile.national_id|default:'' }}"
                required
                class="w-full px-4 py-3 rounded-xl bg-dark border border-white/10 focus:outline-none focus:border-gold"
            >
        </div>

        <!-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù† -->
        <div>
            <label class="block mb-2 text-sm">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
            <textarea
                name="address"
                rows="3"
                class="w-full px-4 py-3 rounded-xl bg-dark border border-white/10 focus:outline-none focus:border-gold"
            >{{ profile.address|default:'' }}</textarea>
        </div>

        <!-- ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© -->
        <div>
            <label class="block mb-2 text-sm">ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ©</label>
            <input
                type="file"
                name="id_card_image"
                accept="image/*"
                class="w-full text-sm text-gray-300"
            >

            {% if profile.id_card_image %}
                <p class="text-xs text-gray-400 mt-2">
                    ØªÙ… Ø±ÙØ¹ ØµÙˆØ±Ø© Ø³Ø§Ø¨Ù‚Ù‹Ø§:
                    <a href="{{ profile.id_card_image.url }}"
                       target="_blank"
                       class="text-gold underline">
                        Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©
                    </a>
                </p>
            {% endif %}
        </div>

        <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
        <div class="flex gap-4 pt-4">
            <button
                type="submit"
                class="bg-gold text-black px-6 py-3 rounded-xl font-bold hover:opacity-90"
            >
                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            </button>

            <a
                href="{% url 'user_dashboard' %}"
                class="border border-white/20 px-6 py-3 rounded-xl hover:border-gold"
            >
                â†©ï¸ Ø±Ø¬ÙˆØ¹
            </a>
        </div>

    </form>

</div>

{% include "footer.html" %}

</body>
</html>
